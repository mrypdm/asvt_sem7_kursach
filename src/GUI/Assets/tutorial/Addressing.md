# Режимы адресации

## Общий случай

В большинстве команд используется адресация относительно регистров (см. далее).

Относительно регистров существует 7 видов адресации.

### Режим 0 - Прямая адресация

Пример: INC R0

Результат: R0 := R0 + 1

### Режим 1 - Косвенная адресация

Пример: INC @R0

@R0 - в R0 записан адрес операнда в памяти

Результат: @R0 := @R0 + 1

### Режим 2 - Косвенная адресация с автоинкрементом

Пример: INC (R0)+

Результат: @R0 := @R0 + 1, R0 := R0 + D

D = 1, если операция байтовая, иначе D = 2

### Режим 3 - Двойная косвенная адресация с автоинкрементом

Пример: INC @(R0)+

Результат: @@R0 := @@R0 + 1, R0 := R0 + 2

### Режим 4 - Косвенная адресация с автодекрементом

Пример: INC -(R0)

Результат: R0 := R0 - D, @R0 := @R0 + 1

D = 1, если операция байтовая, иначе D = 2

### Режим 5 - Двойная косвенная адресация с автодекрементом

Пример: INC @-(R0)

Результат: R0 := R0 - 2, @@R0 := @@R0 - 1

### Режим 6 - Косвенная адресация с индексацией

Пример: INC N(R0)

Результат: @(R0 + N) := @(R0 + N) + 1

В данном случае команда занимает два слова памяти - во втором слове расположен индекс N

### Режим 7 - Двойная косвенная адресация с индексацией

Пример: INC @N(R0)
Результат: @@(R0 + N) := @@(R0 + N) + 1

В данном случае команда занимает два слова памяти - во втором слове расположен индекс N

## Адресация относительно R7 (PC)

Некоторые конструкции ассемблируются в адресацию относительно регистра R7.

### Режим 2 - Непосредственная адресация

Пример: MOV #1000, R0

Результат: R0 := 1000

Команда занимает два слова памяти, второе из которых содержит левый операнд 1000

### Режим 3 - Абсолютная адресация

Пример: INC @#1000

Результат: @#1000 := @#1000 + 1

Под @#1000 понимается слово в памяти с адресом 1000

В данном случае команда занимает два слова, второе из которых - адрес ячейки - 1000

### Режим 6 - Относительная адресация

Пример: INC A

Результат: @A := @A + 1

Под A понимается символьная метка. Так как метка указывает на какой-либо адрес, то INC A инкрементирует слово, имеющее
адрес, на который указывает A.

В данном случае команда занимает два слова, второе из которых - относительное расстояние до метки A

### Режим 7 - Относительная косвенная адресация

Пример: INC @A

Результат: @@A := @@A + 1

В данном случае слово, на которое указывает A, является адресом операнда

В данном случае команда занимает два слова, второе из которых - относительное расстояние до метки A

## Примечания

Индексация с автоувеличением и автодекрементом всегда добавляет/отнимает 2 для регистров R6 (SP) и R7 (PC), так как они
всегда указывают на слова.
